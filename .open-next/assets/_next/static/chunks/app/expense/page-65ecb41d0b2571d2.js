(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5757],{157:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...x}=e;return(0,r.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:s("lucide",c),...x},[...u.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let n=(0,r.forwardRef)((n,l)=>{let{className:o,...c}=n;return(0,r.createElement)(i,{ref:l,iconNode:t,className:s("lucide-".concat(a(e)),o),...c})});return n.displayName="".concat(e),n}},198:(e,t,n)=>{"use strict";let r,a;n.d(t,{P2:()=>x});let s=(e,t)=>t.some(t=>e instanceof t),l=new WeakMap,i=new WeakMap,o=new WeakMap,c={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(d(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return o.set(t,e),t}if(i.has(e))return i.get(e);let t=function(e){if("function"==typeof e)return(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(u(this),t),d(this.request)}:function(...t){return d(e.apply(u(this),t))};return(e instanceof IDBTransaction&&function(e){if(l.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});l.set(e,t)}(e),s(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,c):e}(e);return t!==e&&(i.set(e,t),o.set(t,e)),t}let u=e=>o.get(e);function x(e,t,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){let l=indexedDB.open(e,t),i=d(l);return r&&l.addEventListener("upgradeneeded",e=>{r(d(l.result),e.oldVersion,e.newVersion,d(l.transaction),e)}),n&&l.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}let m=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],h=new Map;function p(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(h.get(t))return h.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,a=f.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||m.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,a?"readwrite":"readonly"),l=s.store;return r&&(l=l.index(t.shift())),(await Promise.all([l[n](...t),a&&s.done]))[0]};return h.set(t,s),s}c=(e=>({...e,get:(t,n,r)=>p(t,n)||e.get(t,n,r),has:(t,n)=>!!p(t,n)||e.has(t,n)}))(c);let b=["continue","continuePrimaryKey","advance"],g={},w=new WeakMap,y=new WeakMap,j={get(e,t){if(!b.includes(t))return e[t];let n=g[t];return n||(n=g[t]=function(...e){w.set(this,y.get(this)[t](...e))}),n}};async function*v(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let n=new Proxy(t,j);for(y.set(n,t),o.set(n,u(t));t;)yield n,t=await (w.get(n)||t.continue()),w.delete(n)}function k(e,t){return t===Symbol.asyncIterator&&s(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&s(e,[IDBIndex,IDBObjectStore])}c=(e=>({...e,get:(t,n,r)=>k(t,n)?v:e.get(t,n,r),has:(t,n)=>k(t,n)||e.has(t,n)}))(c)},323:(e,t,n)=>{Promise.resolve().then(n.bind(n,7365))},3857:(e,t,n)=>{"use strict";n.d(t,{HW:()=>l,Wz:()=>c,eY:()=>o,k5:()=>i});var r=n(198);let a="expenses";async function s(){return(0,r.P2)("ExpenseDB",1,{upgrade(e){e.objectStoreNames.contains(a)||e.createObjectStore(a,{keyPath:"id",autoIncrement:!0})}})}async function l(){let e=await s();return await e.getAll(a)}async function i(e){let t=await s();await t.add(a,e)}async function o(e,t){let n=(await s()).transaction(a,"readwrite"),r=n.objectStore(a),l=await r.get(e);if(!l)throw Error("Expense with id ".concat(e," not found"));await r.put({...l,...t,id:e}),await n.done}async function c(e){let t=(await s()).transaction(a,"readwrite");await t.objectStore(a).delete(e),await t.done}},7365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(5155),a=n(2115),s=n(157);let l=(0,s.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),i=(0,s.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),o=(0,s.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function c(e){let{title:t,amount:n,category:a,description:s,onEdit:l,onDelete:c}=e;return(0,r.jsxs)("div",{className:"border border-black rounded-xl p-4 sm:p-5 md:p-6 lg:p-7 xl:p-8 max-w-full w-full text-black",children:[(0,r.jsxs)("div",{className:"flex justify-between font-bold text-base sm:text-lg md:text-xl",children:[(0,r.jsx)("span",{className:"truncate max-w-[70%]",children:t}),(0,r.jsxs)("span",{children:["â‚¹",n]})]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 truncate max-w-full",children:["Category: ",a]}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mt-2 truncate max-w-full",children:s}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-3",children:[(0,r.jsx)(i,{className:"w-5 h-5 cursor-pointer",onClick:l}),(0,r.jsx)(o,{className:"w-5 h-5 cursor-pointer",onClick:c})]})]})}function d(e){let{onClose:t,onChange:n,onSubmit:a,formData:s}=e;return(0,r.jsx)("div",{className:"antialiased flex flex-col items-center",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-3xl relative mx-auto",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-left mb-6 text-black",children:"Add Your Expenses"}),(0,r.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 text-sm font-medium text-black",children:"Title"}),(0,r.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:s.title,onChange:n,className:"w-full px-4 py-2 border border-black rounded-lg text-black",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 text-sm font-medium text-black",children:"Category"}),(0,r.jsx)("input",{type:"text",name:"category",placeholder:"Category",value:s.category,onChange:n,className:"w-full px-4 py-2 border border-black rounded-lg text-black",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 text-sm font-medium text-black",children:"Description"}),(0,r.jsx)("textarea",{name:"description",placeholder:"Description",value:s.description,onChange:n,className:"w-full px-4 py-2 border border-black rounded-lg text-black"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 text-sm font-medium text-black",children:"Amount"}),(0,r.jsx)("input",{type:"number",name:"amount",placeholder:"Amount",value:s.amount,onChange:n,className:"w-full px-4 py-2 border border-black rounded-lg text-black",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 text-sm font-medium text-black",children:"Date"}),(0,r.jsx)("input",{type:"date",name:"date",value:s.date,onChange:n,className:"w-full px-4 py-2 border border-black rounded-lg text-black",required:!0})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mt-6",children:[(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded-lg",children:"Cancel"})]})]})]})})}function u(e){let{selectedDate:t,onDateChange:n}=e,[s,l]=(0,a.useState)([]),i=(0,a.useRef)(null),o=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{l(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t=new Date,n=[];for(let r=-e;r<=e;r++){let e=new Date(t.getTime());e.setDate(e.getDate()+r);let a=e.toISOString().split("T")[0]||"";n.push({date:e.getDate(),day:e.toLocaleDateString("en-US",{weekday:"short"}),fullDate:e,iso:a,month:e.toLocaleDateString("en-US",{month:"long"}),year:e.getFullYear()})}return n}(15));let e=new Date().toISOString().split("T")[0];t!==e&&n(e||"01/01/2000")},[]),(0,a.useEffect)(()=>{if(!t||!i.current)return;let e=s.findIndex(e=>e.iso===t);if(-1===e)return;let n=i.current,r=n.children[e];if(!r)return;let a=r.offsetLeft-n.clientWidth/2+r.clientWidth/2;n.scrollTo({left:a,behavior:o.current?"smooth":"auto"}),o.current=!0},[t,s]),(0,r.jsx)("div",{ref:i,className:"flex overflow-x-auto gap-3 mt-4 px-2 scrollbar-hide text-black",children:s.map((e,a)=>{var l;let{day:i,date:o,month:c,year:d,iso:u}=e,x=(null==(l=s[a+1])?void 0:l.date)===1,m=u===t;return(0,r.jsxs)("div",{className:"relative flex items-center cursor-pointer",onClick:()=>n(u),children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between border-black border-2 rounded-[21px] w-[58px] h-[91.46px] py-[11px] px-[15px] text-sm ".concat(m?"bg-blue-400 text-white":""),children:[(0,r.jsx)("span",{className:"text-gray-700",children:i}),(0,r.jsx)("span",{className:"font-bold",children:o})]}),x&&(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center text-center text-xs leading-none font-semibold mt-1 pl-[12px]",children:[(0,r.jsx)("div",{className:"underline w-[54px] h-[24px] font-inter font-medium text-[20px] leading-[100%]",children:c}),(0,r.jsx)("div",{className:"w-[54px] h-[19px] font-inter font-medium text-[16px] leading-[100%]",children:d})]})]},a)})})}var x=n(3857),m=n(6874),f=n.n(m);function h(){var e;let t=new Date().toISOString().split("T")[0],[n,s]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[m,h]=(0,a.useState)(t),[p,b]=(0,a.useState)({title:"",amount:"",category:"",description:"",date:t}),[g,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{o(await (0,x.HW)())})()},[g]);let y=e=>{b({...e,amount:String(e.amount),date:e.date||t}),s(e.id),w(!0)},j=async e=>{await (0,x.Wz)(e),o(await (0,x.HW)())},v=async e=>{e.preventDefault();let r={...p,amount:parseFloat(p.amount),date:p.date||t};null!==n?await (0,x.eY)(n,r):await (0,x.k5)(r),w(!1),b({title:"",amount:"",category:"",description:"",date:t}),s(null)},k=i.filter(e=>e.date===m),N=k.reduce((e,t)=>e+t.amount,0);return(0,r.jsxs)("div",{className:"min-h-screen bg-white p-4",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-4 text-center",children:(0,r.jsx)("h1",{className:"text-2xl text-center font-bold text-black w-full",children:"Expense Tracker"})}),!g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{selectedDate:null!=m?m:t,onDateChange:h}),(0,r.jsxs)("div",{className:"flex justify-between mt-4 text-black",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Expenses"}),(0,r.jsxs)("span",{className:"font-semibold underline mb-1",children:["Total: â‚¹",N]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-3 mt-3",children:0===k.length?(0,r.jsx)("p",{className:"text-gray-500 text-center",children:"No expenses for selected date."}):k.map((e,t)=>(0,r.jsx)(c,{...e,onEdit:()=>y(e),onDelete:()=>j(e.id)},t))})]}),g&&(0,r.jsx)(d,{onClose:()=>w(!1),onChange:e=>{let{name:n,value:r}=e.target;b(e=>({...e,[n]:"date"===n?r||t:r}))},onSubmit:v,formData:{...p,date:null!=(e=p.date)?e:t}}),!g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>w(!0),className:"fixed bottom-20 right-4 p-3 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-all",children:(0,r.jsx)(l,{})}),(0,r.jsx)(f(),{href:"/expanse/montly",className:"fixed bottom-24 left-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold px-4 py-2 rounded-full shadow-lg hover:scale-105 hover:shadow-xl transition-all duration-300",children:"\uD83D\uDCCA Monthly View"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1317,7358],()=>t(323)),_N_E=e.O()}]);