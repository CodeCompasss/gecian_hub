(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5423],{326:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(5155),s=a(2115),r=a(5695),l=a(3857),o=a(4065),c=a(2502);function i(e){let{monthlySpend:t,yearlySpend:a,currentMonth:s}=e,r=a-t>0?a-t:0;return(0,n.jsxs)("div",{className:"relative max-w-xs mx-auto p-4 bg-white rounded-lg shadow-md mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Monthly Expenses"}),(0,n.jsxs)("h3",{className:"text-sm text-grey font-bold  mb-4",children:["Current Month - ",s]}),(0,n.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,n.jsxs)("span",{className:"text-2xl font-bold",children:["₹",t]}),(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Spend"})]}),(0,n.jsx)(o.nu,{data:{labels:["Monthly Spend","Remaining Yearly Budget"],datasets:[{data:[t,r],backgroundColor:["#17C6FA","#000000"],hoverBackgroundColor:["#2563eb","#9ca3af"],borderWidth:1}]},options:{cutout:"70%",responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{size:14}}},tooltip:{callbacks:{label:function(e){return"".concat(e.label,": ₹").concat(e.parsed)}}}}}})]})}c.t1.register(c.Bs,c.m_,c.s$);var d=a(9556);let u=e=>{let{month:t,amount:a,onClick:s,isSelected:r}=e;return(0,n.jsxs)("div",{onClick:s,className:"p-4 w-full shadow-sm mb-2 flex justify-between items-center border rounded-lg cursor-pointer hover:bg-gray-100 transition ".concat(r?"bg-blue-100":""),children:[(0,n.jsx)("span",{className:"font-medium",children:t}),(0,n.jsxs)("span",{className:"font-semibold",children:["₹",a]})]})};function m(){let[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(new Date().toLocaleString("en-US",{month:"long"})),[c,m]=(0,s.useState)(new Date().getFullYear()),[x,h]=(0,s.useState)(!0),b=(0,r.useRouter)();(0,s.useEffect)(()=>{(0,l.HW)().then(t)},[]);let f=(0,s.useMemo)(()=>[...new Set(e.map(e=>new Date(e.date).getFullYear()))].sort((e,t)=>t-e),[e]),g=(0,s.useMemo)(()=>e.filter(e=>new Date(e.date).getFullYear()===c).reduce((e,t)=>{let a=new Date(t.date).toLocaleString("en-US",{month:"long"});return e[a]=(e[a]||0)+t.amount,e},{}),[e,c]),p=Object.values(g).reduce((e,t)=>e+t,0),w=g[a]||0;return(0,n.jsxs)("div",{className:"min-h-screen bg-white p-4 text-black",children:[(0,n.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-400 cursor-pointer transition-transform duration-200 ".concat(x?"rotate-90":""),onClick:()=>b.push("/expanse"),children:(0,n.jsx)(d.A,{className:"w-4 h-4 text-gray-500"})}),(0,n.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,n.jsx)("h1",{className:"text-2xl font-bold text-center flex-grow text-black",children:"Expense Tracker"})}),(0,n.jsx)(i,{monthlySpend:w,yearlySpend:p,currentMonth:a}),(0,n.jsxs)("div",{className:"flex flex-col items-center w-fit mx-auto border border-black rounded-lg mb-4",children:[(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md flex justify-between items-center gap-4",children:[(0,n.jsx)("select",{value:c,onChange:e=>{m(Number(e.target.value)),h(!1)},className:"text-lg font-semibold border border-gray-300 rounded p-1",children:f.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}),(0,n.jsxs)("span",{className:"text-lg font-semibold",children:["Total: ₹",p]}),(0,n.jsx)("div",{onClick:()=>h(e=>!e),className:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-400 cursor-pointer transition-transform duration-200 ".concat(x?"rotate-180":""),children:(0,n.jsx)(d.A,{className:"w-4 h-4 text-gray-500"})})]}),!x&&(0,n.jsx)("div",{className:"flex flex-col gap-2 my-4 w-4/5",children:0===Object.entries(g).length?(0,n.jsx)("p",{className:"text-gray-500 text-center",children:"No monthly data available."}):Object.entries(g).map(e=>{let[t,s]=e;return(0,n.jsx)(u,{month:t,amount:s,onClick:()=>o(t),isSelected:a===t},t)})})]})]})}},3857:(e,t,a)=>{"use strict";a.d(t,{HW:()=>l,Wz:()=>i,eY:()=>c,k5:()=>o});var n=a(198);let s="expenses";async function r(){return(0,n.P2)("ExpenseDB",1,{upgrade(e){e.objectStoreNames.contains(s)||e.createObjectStore(s,{keyPath:"id",autoIncrement:!0})}})}async function l(){let e=await r();return await e.getAll(s)}async function o(e){let t=await r();await t.add(s,e)}async function c(e,t){let a=(await r()).transaction(s,"readwrite"),n=a.objectStore(s),l=await n.get(e);if(!l)throw Error("Expense with id ".concat(e," not found"));await n.put({...l,...t,id:e}),await a.done}async function i(e){let t=(await r()).transaction(s,"readwrite");await t.objectStore(s).delete(e),await t.done}},7295:(e,t,a)=>{Promise.resolve().then(a.bind(a,326))}},e=>{var t=t=>e(e.s=t);e.O(0,[5647,4861,8441,1317,7358],()=>t(7295)),_N_E=e.O()}]);